<div class="input-group" id="rangeDatePicker" class="input-group">
  <input class="form-control start" [ngModel]="start" (change)="setStart($event)" type="date" (click)="open('start')" />
  <span class="input-group-addon"></span>
  <input class="form-control end" [ngModel]="end" (change)="setEnd($event)" type="date" (click)="open('end')"/>
</div>

<modal idModal="test" [options]="modalOptions" [(show)]="visible">
  <modal-header [options]="modalHeaderOptions">
    <div *ngIf="!modalHeaderOptions.close" class="row withoutClose">
    </div>
    <div class="row">
      <div class="col-md-5 text-center date-letter">
        <span>{{ beforeDayDateStart }}</span>
        <span>{{ dayDateStart }}</span>
        <span>{{ afterDayDateStart }}</span>
      </div>
      <div class="col-md-2 text-center">
        <i class="icon icon-next icon-4x icon-disabled" ></i>
      </div>  
      <div class="col-md-5 text-center date-letter">
        <span>{{ beforeDayDateEnd }}</span>
        <span>{{ dayDateEnd }}</span>
        <span>{{ afterDayDateEnd }}</span>
      </div>
    </div>
    <div class="calendar-bg row" data-date-type="single">
      <div class="col-md-1 text-center">
        <div class="prev arrow" (click)="clickPrev($event)" >
          <i class="icon icon-previous icon-2x"></i>
        </div>
      </div>
      <div class="col-md-3">
        <div class="form-group" [ngClass]="{'has-error': hasErrorStart }">
          <input type="date" class="form-control input-md" [ngModel]="start" (ngModelChange)="setStart($event)" (focus)="selectInputDateStart()"
          [ngClass]="{'active': (focus === 'start') }" (keyup.tab)="focusEnd($event, inputend)" (keyup.enter)="closeAfterCheck()" >
        </div>
      </div>    
      <div class="col-md-3">
        <div class="form-group" [ngClass]="{'has-error': hasErrorEnd }">
          <input #inputend type="date" class="form-control input-md" [ngModel]="end" (ngModelChange)="setEnd($event)" (keyup.enter)="closeAfterCheck()" 
          (focus)="selectInputDateEnd()" [ngClass]="{'active': (focus === 'end')}">
        </div>
      </div>
      <div class="col-md-4">
        <selectpicker name="selectPredefinedDate" [ngModel]="predefinedDate" (ngModelChange)="onChange($event)">
          <selectpicker-option value="toDay">{{ i18n[language]["today"] }}</selectpicker-option>
          <selectpicker-option value="lastWeek">{{ i18n[language]["lastWeek"] }}</selectpicker-option>
          <selectpicker-option value="lastMonth">{{ i18n[language]["lastMonth"] }}</selectpicker-option>
          <selectpicker-option value="last7day">{{ i18n[language]["last7day"] }}</selectpicker-option>
          <selectpicker-option value="last30day">{{ i18n[language]["last30day"] }}</selectpicker-option>
          <selectpicker-option value="lastYear">{{ i18n[language]["lastYear"] }}</selectpicker-option>
        </selectpicker>
      </div>  
      <div class="col-md-1 text-center" >
        <div class="next arrow" (click)="clickNext($event)">
          <i class="icon icon-next icon-2x" ></i>
        </div>
      </div>
    </div>
  </modal-header>
  <modal-body>
    <div class="datepicker show-calendar">
      <div *ngFor="let item of arrayMonths;let i = index;" class="calendar calendar {{ i }}">
        <div class="calendar-table">
          <table class="table-condensed">
            <thead> 
              <tr>
                <th></th>  
                <th colspan="5" class="month">{{ locale.monthNames[calendar[i].month()] + calendar[i].format(" YYYY") }}</th>
                <th></th> 
              </tr>  
            </thead>
            <tbody>
              <tr>
                <td class="dayweek" *ngFor="let item of createRange(7);let col=index">{{ locale.weekdayNames[calendar[i].calendar[0][col].day()] }}</td>
              </tr>   
              <tr *ngFor="let itemRow of arrayRows;let row = index;">
                <td *ngFor="let itemCol of arrayCols;let col = index;" (click)="selectDate(calendar[i].calendar[row][col], classes[i][row][col])" [ngClass]="classes[i][row][col]">
                   {{ calendar[i].calendar[row][col].date() }}
                </td>
              </tr> 
            </tbody>  
          </table>
        </div>
      </div> 
    </div> 
  </modal-body>
  <modal-footer>
  </modal-footer>
</modal>
